# 38. 外观数列

## 题目

「外观数列」是一个整数序列，从数字 1 开始，序列中的每一项都是对前一项的描述。前五项如下：

```
1. 1
2. 11
3. 21
4. 1211
5. 111221
6. 312211
7. 13112221
8. 1113213211
9. 31131211131221
10. 13211311123113112211
11. 11131221133112132113212221
12. 3113112221232112111312211312113211
13. 1321132132111213122112311311222113111221131221
```

`1`被读作 `"one 1"` (`"一个一"`) , 即`11`。
`11`被读作`"two 1s"`(`"两个一"`）, 即`21`。
`21`被读作`"one 2"`,  `"one 1" `（`"一个二"` , ` "一个一"`) , 即`1211`。

给定一个正整数 n（1 ≤ n ≤ 30），输出外观数列的第 n 项。

注意：整数序列中的每一项将表示为一个字符串。

## 思路

### 顺序遍历1



#### 时间复杂度



#### 空间复杂度



#### 代码

```javascript
/**
 * @param {number} n
 * @return {string}
 */
var countAndSay = function(n) {
    let i = 2;
    let current = [1];
    while (i <= n) {
        const len = current.length;
        let _c = null;
        let list = [];
        for (let j = 0; j <= len; j++) {
            if (_c) {
                if (_c.val === current[j]) {
                    _c.count++;
                } else {
                    list.push(_c.count, _c.val);
                    _c = {
                        val: current[j],
                        count: 1,
                    };
                }
            } else {
                _c = {
                    val: current[j],
                    count: 1,
                };
            }
        }

        current = list;
        i++;
    }

    return current.join('');
};
```



### 顺序遍历2



#### 时间复杂度



#### 空间复杂度



#### 代码

```javascript
/**
 * @param {number} n
 * @return {string}
 */
var countAndSay = function(n) {
    let i = 2;
    let current = '1';
    while (i <= n) {
        const len = current.length;
        let _s = '';
        let _c = 0;
        let list = '';
        for (const item of current) {
            if (item !== _s) {
                _c > 0 && (list += _c + _s);
                _s = item
                _c = 1;
            } else {
                _c++;
            }
        }

        current = list + _c + _s;
        i++;
    }

    return current;
};
```





### 双指针



#### 时间复杂度



#### 空间复杂度



#### 代码

```javascript
/**
 * @param {number} n
 * @return {string}
 */
var countAndSay = function(n) {
    let i = 2;
    let current = [1];
    while (i <= n) {
        const len = current.length;
        let _s = 0;
        let _q = 0;
        let list = [];
        for (; _q <= len; _q++) {
            if (current[_q] !== current[_s]) {
                list.push(_q - _s, current[_s]);
                _s = _q;
            }
        }

        current = list;
        i++;
    }

    return current.join('');
};
```

