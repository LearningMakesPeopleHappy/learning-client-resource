# 14. 最长公共前缀

## 题目

编写一个函数来查找字符串数组中的最长公共前缀。

如果不存在公共前缀，返回空字符串 `""`。

**说明:**

所有输入只包含小写字母 `a-z` 。

> **测试**
>
> ["flower","flow","flight"] - "fl"
>
> ["dog","racecar","car"] - ""

## 思路

### 暴力比较法



#### 时间复杂度



#### 空间复杂度



#### 代码

```javascript
/**
 * @param {string[]} strs
 * @return {string}
 */
var longestCommonPrefix = function(strs) {
    const len = strs.length;
    if (!strs || len === 0) return '';
    if (len === 1) return strs[0];

    const first = strs[0];
    let common = '';
    start: while (true) {
        const tempChar = first.charAt(common.length);
        if (!tempChar) {
            return common;
        }
        
        common += tempChar;
        for (let i = 1; i < len; i++) {
            const item = strs[i];
            if (common.length > item.length || item.substring(0, common.length) !== common) {
                break start;
            }
        }
    }

    return common.substring(0, common.length - 1);
};
```



### 截长比较法1



#### 时间复杂度



#### 空间复杂度



#### 代码

```javascript
/**
 * @param {string[]} strs
 * @return {string}
 */
var longestCommonPrefix = function(strs) {
    const len = strs.length;
    if (!strs || len === 0) return '';
    if (len === 1) return strs[0];

    let common = strs.shift();
    while (strs.length) {
        const item = strs.shift();
        if (item !== common) {
            if (common.length > item.length) {
                common = common.substring(0, item.length);
            }

            for (let i = 0, tlen = common.length; i < tlen; i++) {
                if (item.charAt(i) !== common.charAt(i)) {
                    common = common.substring(0, i);
                    if (common) {
                        break;
                    }

                    return common;
                }
            }
        }
    }

    return common;
};
```



### 截长比较法2



#### 时间复杂度



#### 空间复杂度



#### 代码

```javascript
/**
 * @param {string[]} strs
 * @return {string}
 */
var longestCommonPrefix = function(strs) {
    const len = strs.length;
    if (!strs || len === 0) return '';

    let common = strs[0];

    for (let i = 1; i < len; i++) {
        while (!strs[i].startsWith(common)) {
            common = common.substring(0, common.length - 1);
        }
    }

    return common;
};
```



### 二分查找法



#### 时间复杂度



#### 空间复杂度



#### 代码

```javascript
/**
 * @param {string[]} strs
 * @return {string}
 */
var longestCommonPrefix = function(strs) {
    const len = strs.length;
    if (!strs || len === 0) return '';
    if (len === 1) return strs[0];

    let common = '';

    let one = strs.shift();
    let index = Math.ceil(one.length / 2);
    let f = one.substring(0, index);
    one = one.substring(index);

    start: while (true) {
        for (let item of strs) {
            if (!item.startsWith(common + f)) {
                if (f.length <= 1) {
                    return common;
                } else {
                    one = '';
                    f = f.substring(0, Math.ceil(f.length / 2));
                    continue start;
                }
            }
        }
        
        common += f;

        if (one.length) {
            index = Math.ceil(one.length / 2);
            f = one.substring(0, index);
            one = one.substring(index);
        } else {
            return common;
        }
    }

    return common;
};
```

