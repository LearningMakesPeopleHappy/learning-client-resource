# 20. 有效的括号

## 题目

给定一个只包括 '('，')'，'{'，'}'，'['，']' 的字符串，判断字符串是否有效。

有效字符串需满足：

左括号必须用相同类型的右括号闭合。
左括号必须以正确的顺序闭合。
注意空字符串可被认为是有效字符串。

> **测试**
>
> "()" - true
>
> "()[]{}" - true
>
> "(}" - false
>
> "([)]" - false
>
> "{{}}" - true

## 思路



### 栈对比1



#### 时间复杂度



#### 空间复杂度



#### 代码

```javascript
/**
 * @param {string} s
 * @return {boolean}
 */
var isValid = function(s) {
    const endSet = new Set([')', ']', '}']);
    const list = [];
    const len = s.length;
    for (let i = 0; i < len; i++) {
        const tempStr = s.charAt(i);
        if (list.length) {
            const prev = list[list.length - 1];
            switch (tempStr) {
                case ')':
                    if (prev === '(') {
                        list.pop();
                    } else {
                        return false;
                    }
                    break;
                case ']':
                    if (prev === '[') {
                        list.pop();
                    } else {
                        return false;
                    }
                    break;
                case '}':
                    if (prev === '{') {
                        list.pop();
                    } else {
                        return false;
                    }
                    break;
                default:
                    list.push(tempStr);
                    break;
            }
        } else {
            if (endSet.has(tempStr)) {
                return false;
            } else {
                list.push(tempStr);
            }
        }
    }

    return !list.length;
};
```



### 栈对比2



#### 时间复杂度



#### 空间复杂度



#### 代码

```javascript
/**
 * @param {string} s
 * @return {boolean}
 */
var isValid = function(s) {
    const endMap = new Map([['(', ')'], ['[', ']'], ['{', '}']]);
    const list = [];
    const len = s.length;
    for (let i = 0; i < len; i++) {
        const tempStr = s[i];
        if (endMap.has(tempStr)) {
            list.push(tempStr);
        } else {
            if (tempStr !== endMap.get(list.pop())) {
                return false;
            }
        }
    }

    return !list.length;
};
```



### 提取



#### 时间复杂度



#### 空间复杂度



#### 代码

```javascript
/**
 * @param {string} s
 * @return {boolean}
 */
var isValid = function(s) {
    let str = s;
    while (true) {
        let list = str.split('()');
        const has1 = list.length > 1;
        str = list.join('');

        list = str.split('[]');
        const has2 = list.length > 1;
        str = list.join('');

        list = str.split('{}');
        const has3 = list.length > 1;
        str = list.join('');

        if (!has1 && !has2 && !has3) {
            if (str) {
                return false;
            }

            return true;
        }
    }

    return false;
};
```

