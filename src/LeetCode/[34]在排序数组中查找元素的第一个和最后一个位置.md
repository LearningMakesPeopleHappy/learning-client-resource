# 34. 在排序数组中查找元素的第一个和最后一个位置

## 题目

给定一个按照升序排列的整数数组 nums，和一个目标值 target。找出给定目标值在数组中的开始位置和结束位置。

你的算法时间复杂度必须是 O(log n) 级别。

如果数组中不存在目标值，返回 [-1, -1]。

> **测试**
>
> 输入: nums = [5,7,7,8,8,10], target = 8
> 输出: [3,4]
>
> 输入: nums = [5,7,7,8,8,10], target = 6
> 输出: [-1,-1]

## 思路

### 双指针二分法



#### 时间复杂度

O(logn)

#### 空间复杂度

O(1)

#### 代码

```javascript
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number[]}
 */
var searchRange = function(nums, target) {
    let left = 0;
    let right = nums.length - 1;
    while (left <= right) {
        let middle = Math.floor((right - left) / 2);

        let left_val = nums[left];
        if (left_val === target) {
            let temp_i = left + 1;
            while (nums[temp_i] === target) {
                temp_i++;
            }

            return [left, temp_i - 1];
        }

        let right_val = nums[right];
        if (right_val === target) {
            let temp_i = right - 1;
            while (nums[temp_i] === target) {
                temp_i--;
            }

            return [temp_i + 1, right];
        }

        let middle_val = nums[middle];
        if (middle_val === target) {
            let middle_left = middle - 1;
            while (nums[middle_left] === target) {
                middle_left--;
            }

            let middle_right = middle + 1;
            while (nums[middle_right] === target) {
                middle_right++;
            }

            return [middle_left + 1, middle_right - 1];
        } else if (middle_val < target) {
            left = middle + 1;
            right--;
        } else {
            left++;
            right = middle - 1;
        }
    }

    return [-1, -1];
};
```

